!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return d}),n.d(t,"i",function(){return f}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return v}),n.d(t,"k",function(){return g}),n.d(t,"m",function(){return h}),n.d(t,"l",function(){return y}),n.d(t,"e",function(){return m});var i=(function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw r}}return n}}(),function(e,t){return o(e,c(t))}),o=function(e,t){return""===t?e:e+(e.includes("?")?"&":"?")+t},r=function(e,t){for(var n=e.length+1,i=0;i+1<n;){var o=i+(n-i>>1);t(e[o])?n=o:i=o}return e[n]},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSuffix,i=void 0!==n&&n;return e.split(/[-_]/g).map(function(e,t){return 0!==t||i?u(e.toLowerCase()):e.toLowerCase()}).join("")},u=function(e){return""===e?e:""+e[0].toUpperCase()+e.slice(1)},l=function e(t,n,i){return null==t?i:1===n.length?t[n[0]]:e(t[n[0]],n.slice(1))},c=function(e){return Object.keys(e).filter(function(t){return null!=e[t]}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")},s=function(e){(new Image).src=e},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e===t)return[e];if(t-e<0!=n<0)throw new Error("Invalid call to range: range("+e+", "+t+", "+n+")");return Array((t-e)/n|0).fill(null).map(function(t,i){return e+i*n})},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(o,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&200===a.status&&o(a)},a.addEventListener("load",o.bind(null,a)),a.addEventListener("error",r.bind(null,a)),a.open(e.toUpperCase(),t),Object.keys(n).forEach(function(e){a.setRequestHeader(e,n[e])}),a.send(i)})},p=function(e){setTimeout(e,0)},v=function(e,t){return null==e?{}:Object.keys(e).filter(function(e){return!t.includes(e)}).reduce(function(t,n){return t[n]=e[n],t},{})},g=function(e,t){if(null==e)return{};switch(h(t)){case"array":return t.reduce(function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t},{});case"function":return Object.keys(e).reduce(function(n,i){return t(i,e[i])&&(n[i]=e[i]),n},{})}},h=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()},y=function(e){return new Promise(function(t,n){setTimeout(function(){return n(new Error("Promise timed out after "+e+"ms"))},e)})},m=function(e){return"function"===h(e)}},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return o});var i={ANDROID:"android",IOS:"ios"},o={ALWAYS_MUTE:"always-mute",ON_INTERACTION:"on-interaction",NO_RESTRICTIONS:"no-restrictions"}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(3),a=n(1),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();if("undefined"==typeof Liftoff){if(null==window._LIFTOFF_ENV){var l=window.LIFTOFF_DEV_ENV||{},c=l.creative&&l.creative.height,s=null==c||c>250;window._LIFTOFF_ENV={pinpointURL:l.clickURL||"https://www.liftoff.io",costModel:l.costModel||"cpi",trackingToken:l.trackingToken||"v.2_g.1_a.2_c.3_t.ua_u.e453a13cc2cd92ff_s.1",app:Object.assign({id:17,name:"liftoff_publisher_app"},l.app),creative:Object.assign({id:123,width:320,height:480,name:"liftoff_creative_name",params:[]},l.creative),campaign:{id:456,name:"liftoff_campaign",params:[]},device:Object.assign({idfaSHA1:"b602d594afd2b0b327e07a06f36ca6a7e42546d0",idfaMD5:"9f89c84a559f573636a47ff8daed0d33",androidID:null,androidIDSHA1:null,androidIDMD5:null,googleAID:null,googleAIDSHA1:null,ip:"0.0.0.0",platform:"ios"},l.device),geo:Object.assign({latitude:37.45296,longitude:-122.181725},l.geo),creativePolicy:Object.assign({addBorder:!1,russianAgeRating:null,animationDurationlimit:29500,blockNotifications:!1,blockStrobing:!0,showChineseWatermark:!1,closeDelay:0,showAdChoices:!1,audioPolicy:s?a.a.ON_INTERACTION:a.a.ALWAYS_MUTE,useCustomClose:!0},l.creativePolicy),isReengagement:!1,exchange:"liftoff_partner_exchange",loggingConfig:{enableHTMLReturn:!1,htmlReturnDelay:null,enableLogging:!1,loggingEndpoint:null}};var d=document.createElement("a");d.style.display="none",d.id="exchange-ping-url",d.href=l.exchangePingURL||"#";var f=document.getElementsByTagName("script"),p=f[f.length-1];p.parentNode.insertBefore(d,p)}var v=window._LIFTOFF_ENV.loggingConfig,g=v.enableHTMLReturn,h=v.htmlReturnDelay,y=v.enableLogging,m=v.loggingEndpoint;y&&g&&null!=m&&r.b(m,h);var b=document.createElement("div");b.id="liftoff-snippet",Object.assign(b.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"16777271",pointerEvents:"none",fontSize:"14px",lineHeight:"1.5",fontFamily:"ios"===window._LIFTOFF_ENV.device.platform?"Helvetica Neue,Helvetica,Arial,sans-serif":"Roboto,Helvetica,Arial,sans-serif"});var w=0,_=0;window.addEventListener("mousedown",function(e){var t=e.pageX,n=e.pageY;w=t,_=n},!0),window.addEventListener("touchstart",function(e){var t=e.changedTouches,n=t[0],i=n.pageX,o=n.pageY;w=i,_=o},!0);var k=window._LIFTOFF_ENV,E=k.pinpointURL,O=k.creativePolicy,S=k.exchange,L=k.isReengagement;window._LIFTOFF_ENV.abTests;window.Liftoff=function(){function e(){i(this,e)}return u(e,null,[{key:"getClickURL",value:function(){return E}},{key:"getRootURL",value:function(){var e="/";null!=window.LIFTOFF_DEV_ENV&&null!=window.LIFTOFF_DEV_ENV.rootURL?e=window.LIFTOFF_DEV_ENV.rootURL:window.LIFTOFF_ROOT_URL&&(e=window.LIFTOFF_ROOT_URL);e[e.length-1];return e}},{key:"resolveAssetURL",value:function(e){var t=this.getRootURL();return t?""+t+("/"===e[0]?e.substring(1):e):e}},{key:"getPingURL",value:function(){return document.getElementById("exchange-ping-url").href}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=b.getBoundingClientRect(),n=t.left,i=t.top,a=Object.assign({},e,{click_x:w-n,click_y:_-i}),u=o.a(this.getClickURL(),a);r.c(u,{isReengagement:L,platform:this.env.device.platform})}}]),e}(),Liftoff.env=o.h(window._LIFTOFF_ENV,["pinpointURL","exchange","isReengagement","abTests"]),Liftoff.version="1.18",Liftoff.env.creativePolicy=o.k(Liftoff.env.creativePolicy,["animationDurationLimit","blockNotifications","blockStrobing","closeDelay"]);var M=function(){r.a(b,Object.assign({},O,{audioPolicy:O.audioPolicy}),{creativeID:Liftoff.env.creative.id,platform:Liftoff.env.device.platform,exchange:S,sourceAppName:Liftoff.env.app.name,sourceAppID:Liftoff.env.app.id}),document.body.appendChild(b)},C=function(){document.body.style.fontFamily=Liftoff.env.device.platform===a.b.ANDROID?"Roboto,Helvetica,Arial,sans-serif":"Helvetica Neue,Helvetica,Arial,sans-serif",M()};null==document.body?document.addEventListener("DOMContentLoaded",C):C()}},function(e,t,n){"use strict";n.d(t,"a",function(){return f}),n.d(t,"c",function(){return p}),n.d(t,"b",function(){return v});var i=n(4),o=n(6),r=n(8),a=n(1),u=n(0),l=function(e){var t=document.createElement("div");t.id="liftoff-close",Object.assign(t.style,{display:"block",position:"absolute",top:"10px",right:"10px",width:"32px",height:"32px",zIndex:99});var n={width:"100%",height:"100%",display:"block",position:"absolute",top:"0",left:"0",fontSize:"16px",lineHeight:"28px",textAlign:"center",border:"2px solid #FFF",borderRadius:"50%",boxSizing:"border-box",pointerEvents:"all"},o=document.createElement("div");if(o.classList.add("liftoff-close-target"),Object.assign(o.style,n,{color:"#EEE",backgroundColor:"#000"}),o.innerHTML="&#10005",o.addEventListener("click",function(e){i.a.close(),e.stopPropagation()}),t.appendChild(o),e>0){var r=document.createElement("div");r.classList.add("liftoff-close-delay"),Object.assign(r.style,n,{color:"#555",backgroundColor:"#BBB"});var a=e;r.textContent=a,r.style.display="block";var u=setInterval(function(){if((a-=1)>0)return void(r.textContent=a);r.style.display="none",clearInterval(u)},1e3);t.appendChild(r)}return t},c=function(e){var t=!1,n=function n(i){window.removeEventListener("mousedown",n,!0),window.removeEventListener("touchstart",n,!0),t||(t=!0,e(i))};window.addEventListener("mousedown",n,!0),window.addEventListener("touchstart",n,!0)},s=function(){var e=document.createElement("div");e.classList.add("liftoff-global-audio-toggle"),Object.assign(e.style,{opacity:"0.5",display:"none",pointerEvents:"all",right:"0",bottom:"0",position:"absolute"});var t=new o.a,n=t.getElement();e.appendChild(n);var i=!1,a=function(e){e!==i&&(i=e,r.a.toggleMuted(e),t.toggleMuted(e))},u=!1;return c(function(t){u=!0,e.contains(t.target)||a(!1)}),n.addEventListener("click",function(){a(!i)}),r.a.runAfterFirstSound(function(){u||(e.style.display="inline-block")}),a(!0),e},d=function(){r.a.toggleMuted(!0)},f=function(e,t,n){var o=t.addBorder,r=t.removeAdWrapper,c=t.showAdChoices,f=t.russianAgeRating,p=t.showChineseWatermark,v=t.useCustomClose,g=t.closeDelay,h=t.audioPolicy,y=n.creativeID,m=n.platform,b=n.exchange,w=n.sourceAppName,_=n.sourceAppID,k=document.createElement("div");if(k.classList.add("liftoff-watermarks"),Object.assign(k.style,{position:"absolute",bottom:"0",left:"0",zIndex:"98",height:"18px",pointerEvents:"none"}),o){var E=document.createElement("div");E.id="liftoff-border",Object.assign(E.style,{width:"100%",height:"100%",position:"absolute",border:"1px solid #AAA",boxSizing:"border-box",zIndex:"10",pointerEvents:"none"}),document.body.appendChild(E)}if(r){var O=document.querySelector(".adwrapper");null!=O&&O.classList.remove("adwrapper")}if(c){var S={creative_id:y,platform:m.toLowerCase(),exchange:b.toLowerCase(),source_app_name:w,source_app_id:_},L=document.createElement("a");L.classList.add("ad-choices-icon"),L.target="_blank",L.href=u.a("https://cdn.liftoff.io/optout.html",S),Object.assign(L.style,{width:"20px",height:"100%",display:"inline-block",backgroundColor:"rgba(204, 204, 204, 0.6)",backgroundImage:"url(https://cdn.liftoff.io/adchoices.png)",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"12px 12px",pointerEvents:"all"}),k.appendChild(L)}if(null!=f){var M=document.createElement("div");M.textContent=f+"+",M.classList.add("age-rating"),Object.assign(M.style,{color:"blue",fontSize:"10px",fontWeight:"500",background:"whitesmoke",borderRadius:"0 5px 0 0",padding:"0 3px",opacity:"0.75",display:"inline",verticalAlign:"bottom",pointerEvents:"none",lineHeight:"20px"}),k.appendChild(M)}if(p){var C=document.createElement("div");C.classList.add("chinese-watermark"),Object.assign(C.style,{display:"inline-block",height:"100%",width:"42px",pointerEvents:"none",backgroundColor:"rgba(204, 204, 204, 0.6)",backgroundImage:"url(https://cdn.liftoff.io/chinese_watermark.png)",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"contain"}),k.appendChild(C)}if(h===a.a.ALWAYS_MUTE)d();else if(h===a.a.ON_INTERACTION){var A=s();e.appendChild(A)}return i.a.useCustomClose(v).then(function(t){if(t){var n=l(g);e.appendChild(n)}}),e.appendChild(k),e},p=function(e,t){var n=t.isReengagement,o=t.platform,r=t.useApplovinMacro,a=document.getElementById("exchange-ping-url").href;null!=a&&u.f(a);var l=function(e){return r&&"android"!==o.toLowerCase()?"applovin://com.applovin.sdk/load_url?load_type=external&n="+encodeURIComponent(e):e};if(!n||"ios"!==o.toLowerCase())return void i.a.open(l(e));var c=u.a(e,{return_json:!0});u.i("GET",c).then(function(e){var t=void 0;try{t=JSON.parse(e.responseText)}catch(t){throw new Error("Unable to parse JSON response from "+c+"\nBody: '"+e.responseText+"'")}var n=t,o=n["primary-url"];i.a.open(l(o))})},v=function(e,t){var n=function(){console.info("Returning HTML");var t=document.querySelector("html").outerHTML;return u.i("POST",e+"/html_return",{"Content-Type":"text/plain"},t)};return null==t||0===t?n():new Promise(function(e,i){setTimeout(function(){return n().then(e,i)},t)})}},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(5),r=n(0),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){i(this,e)}return a(e,null,[{key:"init",value:function(){o.a.pubsubify(this),this.clickRetryTimeout=null,this.lastOpenedURL=null,this.lastMRAID=null,this.supportOverrides={},this.useWindowOpen=!1,this.setInitialState(),this.addEventListeners()}},{key:"setInitialState",value:function(){var e=this.getMRAID();this.ready=!!this.hasSupport("getState")&&"default"===e.getState(),this.viewable=!this.hasSupport("isViewable")||e.isViewable(),this.lastViewableTS=Date.now(),this.viewableDurationMS=0}},{key:"addEventListeners",value:function(){var e=this,t=this.getMRAID();this.hasSupport("addEventListener")&&(t.addEventListener("error",function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];e.emit("error",new Error("MRAID error: "+n))}),t.addEventListener("ready",function(){e.ready||(e.ready=!0,e.emit("ready"))}),t.addEventListener("viewableChange",function(t){e.viewable!==t&&(e.viewable=t,e.viewable?(e.lastViewableTS=Date.now(),e.emit("viewable")):(e.viewableDurationMS+=Date.now()-e.lastViewableTS,e.lastOpenedURL=null,clearTimeout(e.clickRetryTimeout)))})),document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&(e.lastOpenedURL=null,clearTimeout(e.clickRetryTimeout))})}},{key:"onReady",value:function(e){if(this.ready)return Object(r.j)(e);this.once("ready",e)}},{key:"onViewable",value:function(e){if(this.viewable)return Object(r.j)(e);this.once("viewable",e)}},{key:"open",value:function(e){var t=this;if(this.lastOpenedURL!==e){this.lastOpenedURL=e,clearTimeout(this.clickRetryTimeout);var n=this.getMRAID(),i=this.hasSupport("open"),o=[{type:"window.open",enabled:this.useWindowOpen,fn:function(){return window.open(e)}},{type:"mraid",enabled:i,fn:function(){t.ready||t.emit("error",new Error("Called mraid.open before mraid was ready")),n.open(e)}},{type:"anchor",enabled:!0,fn:function(){var t=document.createElement("a");t.href=e,t.target="_blank",t.click()}},{type:"location",enabled:!0,fn:function(){return window.location=e}}].filter(function(e){return e.enabled});!function n(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(i>0){var r=o[i-1].type;t.emit("error",new Error("Failed to open "+e+" using "+r))}if(i===o.length-1&&(t.lastOpenedURL=null),i>=o.length)return void t.emit("error",new Error("Failed to open "+e+" by any methods"));o[i].fn(),t.clickRetryTimeout=setTimeout(n.bind(t,i+1),1e3)}()}}},{key:"close",value:function(){var e=this;this.onReady(function(){var t=Object(r.d)(window,["Liftoff","Logger"]);if(null!=t&&t.recordMetricV2("close_count",1),!e.hasSupport("close"))return void e.emit("error",new Error("Attempted to call 'mraid.close' when it is not supported."));e.getMRAID().close()})}},{key:"useCustomClose",value:function(e){var t=this;return new Promise(function(n,i){try{t.onReady(function(){if(!(t.hasSupport("useCustomClose")&&t.hasSupport("close")&&e))return n(!1);t.getMRAID().useCustomClose(e),n(e)})}catch(e){i(e)}})}},{key:"getViewableDurationMS",value:function(){return this.viewable?this.viewableDurationMS+(Date.now()-this.lastViewableTS):this.viewableDurationMS}},{key:"lockOrientation",value:function(e){if(this.hasSupport("setOrientationProperties")){this.getMRAID().setOrientationProperties({allowOrientationChange:!1,forceOrientation:e})}}},{key:"getMRAID",value:function(){return null==window.mraid?this.lastMRAID:window.mraid}},{key:"hasSupport",value:function(e){var t=this.getMRAID();return null!=t&&(this.lastMRAID=t,this.supportOverrides.hasOwnProperty(e)?this.supportOverrides[e]:"mraid"===e&&null!=this.lastMRAID||"function"===Object(r.m)(this.lastMRAID[e]))}}]),e}();u.init(),t.a=u},function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=n(0),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),u=function(){function e(){o(this,e),this.events={}}return a(e,null,[{key:"pubsubify",value:function(t){var n=Object.getOwnPropertyNames(e.prototype).filter(function(e){return"constructor"!==e});Object.assign(t,new e),Object.assign(t,Object(r.k)(e.prototype,n))}}]),a(e,[{key:"on",value:function(e,t){var n=this;"object"!==Object(r.m)(e)&&(e=i({},e,t)),Object.keys(e).forEach(function(t){null==n.events[t]&&(n.events[t]=[]),n.events[t].push(e[t])})}},{key:"once",value:function(e,t){var n=this,i=function i(){for(var o=arguments.length,r=Array(o),a=0;a<o;a++)r[a]=arguments[a];n.off(e,i),t.apply(null,r)};this.on(e,i)}},{key:"off",value:function(e,t){var n=this;"object"!==Object(r.m)(e)&&(e=i({},e,t)),Object.keys(e).forEach(function(t){if(null!=n.events[t]){var i=e[t];if(null==i)return delete n.events[t];n.events[t]=n.events[t].filter(function(e){return e!==i}),0===n.events[t].length&&delete n.events[t]}})}},{key:"emit",value:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(null!=this.events[e])return Promise.all(this.events[e].map(function(e){return e.apply(null,n)}))}},{key:"relay",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;this.on(t,e.emit.bind(e,n))}}]),e}();t.a=u},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(7),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),a=function(){function e(){i(this,e),this.el=Object(o.a)('\n      <div class="audio-toggle-icon"\n          style="margin:10px;border-radius:25px;background-color:black;line-height:10px">\n        <svg fill="#FFFFFF" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n          width="30" height="30" viewBox="0 0 16 16"\n        >\n          <g class="audio-toggle-unmute" transform="translate(8 8) scale(0.69 0.69) translate(-8 -8)">\n            <polygon points="\n              14.293,14.293 1.707,1.707 1,2.414 4.586,6 4,6 4,10 7,10 11,14 11,12.414 13.586,15\n            "></polygon>\n            <polygon points="11,2 7.207,5.793 11,9.586"></polygon>\n          </g>\n          <g class="audio-toggle-mute" transform="translate(8 8) scale(0.69 0.69) translate(-8 -8)">\n            <polygon points="7,6 4,6 4,10 7,10 11,14 11,2"></polygon>\n          </g>\n        </svg>\n      </div>\n    '),this.toggleMuted(!0)}return r(e,[{key:"getElement",value:function(){return this.el}},{key:"toggleMuted",value:function(e){this.el.querySelector(".audio-toggle-unmute").style.display=e?"":"none",this.el.querySelector(".audio-toggle-mute").style.display=e?"none":""}}]),e}();t.a=a},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=(n(0),function(){function e(e,t){var n=[],i=!0,o=!1,r=void 0;try{for(var a,u=e[Symbol.iterator]();!(i=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{!i&&u.return&&u.return()}finally{if(o)throw r}}return n}}(),function(e){var t=document.createElement("div");return t.innerHTML=e.replace(/\n\s*/g,""),t.firstChild})},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(e){return"VIDEO"===e.tagName||"AUDIO"===e.tagName},a=function(e){return null!=e.audioTracks&&e.audioTracks.length>0||null!=e.webkitAudioDecodedByteCount&&e.webkitAudioDecodedByteCount>0},u=function(){function e(){i(this,e)}return o(e,null,[{key:"init",value:function(t){e._muted=null,e._cb=t,e._firstSoundMade=!1,e._gainNodes=[];try{var n=window.AudioContext||window.webkitAudioContext;window.AudioContext=window.webkitAudioContext=function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var r=new(Function.prototype.bind.apply(n,[null].concat(i))),a=r.createGain(),u=r.createAnalyser();u.fftSize=32;var l=new Uint8Array(u.frequencyBinCount),c=setInterval(function(){u.getByteFrequencyData(l);for(var t=0;t<l.length&&0===l[t];t++);t!==l.length&&(clearInterval(c),e._handleFirstSound())},10),s=r.destination;return u.connect(a),a.connect(s),a.gain.value=e._muted?0:1,e._gainNodes.push(a),Object.defineProperty(r,"destination",{value:u,writable:!1,configurable:!1}),r}}catch(e){console.error("Unable to monkey-patch AudioContext")}}},{key:"_handleFirstSound",value:function(){e._firstSoundMade||(e._cb(),e._firstSoundMade=!0)}},{key:"toggleMuted",value:function(t){e._muted!==t&&(e._muted=t,e._gainNodes.forEach(function(e){e.gain.value=t?0:1}))}}]),e}(),l=function(){function e(){i(this,e)}return o(e,null,[{key:"init",value:function(t){e._cb=t,e._seenElements=new WeakSet;var n=Document.prototype.createElement;Object.defineProperty(Document.prototype,"createElement",{value:function(){for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];var r=n.apply(this,i);return e._handleNewElement(r),r}});var i=window.Audio;window.Audio=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];var r=new(Function.prototype.bind.apply(i,[null].concat(n)));return e._handleNewElement(r),r},window.Audio.prototype=i.prototype,["play","load"].forEach(function(t){var n=HTMLMediaElement.prototype[t];HTMLMediaElement.prototype[t]=function(){e._handleNewElement(this);for(var t=arguments.length,i=Array(t),o=0;o<t;o++)i[o]=arguments[o];return n.apply(this,i)}}),window.addEventListener("loadstart",function(t){e._handleNewElement(t.target)},!0),document.querySelectorAll("video, audio").forEach(function(t){e._cb(t)})}},{key:"_handleNewElement",value:function(t){r(t)&&!e._seenElements.has(t)&&(e._seenElements.add(t),e._cb(t))}}]),e}(),c=function(){function e(){i(this,e)}return o(e,null,[{key:"init",value:function(t){e._globallyMuted=null,e._elToSetState=new WeakMap,e._allMediaEls=[],e._firstSoundMade=!1,e._cb=t;try{e._originalMutedSetter=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"muted").set,Object.defineProperty(HTMLMediaElement.prototype,"muted",{set:function(t){e._elToSetState.set(this,t),e._canMakeSound(this)&&e._handleFirstSound(),(!e._globallyMuted||!this.muted&&t)&&e._originalMutedSetter.call(this,t)}})}catch(t){e._originalMutedSetter=function(e){this.muted=e},console.error("Unable to monkey-patch HTMLMediaElement.muted")}l.init(function(t){e._allMediaEls.includes(t)||e._allMediaEls.push(t),e._watchForSound(t),e._toggleElementMuted(t,e._globallyMuted)})}},{key:"_canMakeSound",value:function(t){return!e._elToSetState.get(t)&&("AUDIO"===t.tagName||a(t))}},{key:"_watchForSound",value:function(t){if(!t.paused&&e._canMakeSound(t))return void e._handleFirstSound();t.addEventListener("playing",function(){e._canMakeSound(t)&&e._handleFirstSound()})}},{key:"_toggleElementMuted",value:function(t,n){if(n)return e._elToSetState.set(t,t.muted),void e._originalMutedSetter.call(t,!0);e._originalMutedSetter.call(t,e._elToSetState.get(t))}},{key:"_toggleMediaMuted",value:function(t){e._allMediaEls.forEach(function(n){e._toggleElementMuted(n,t)})}},{key:"_handleFirstSound",value:function(){e._firstSoundMade||(e._cb(),e._firstSoundMade=!0)}},{key:"toggleMuted",value:function(t){e._globallyMuted!==t&&(e._toggleMediaMuted(t),e._globallyMuted=t)}}]),e}(),s=function(){function e(){throw i(this,e),new Error("Cannot construct instances of GlobalAudioController.")}return o(e,null,[{key:"_init",value:function(){if(!e._initialized){e._initialized=!0,e._firstSoundMade=!1,e._onFirstSoundCallbacks=[];var t=function(){e._firstSoundMade||(e._firstSoundMade=!0,e._onFirstSoundCallbacks.forEach(function(e){return e()}))};c.init(t),u.init(t)}}},{key:"_reset",value:function(){e._firstSoundMade=!1,e._onFirstSoundCallbacks=[],c._firstSoundMade=!1,u._firstSoundMade=!1}}]),o(e,null,[{key:"toggleMuted",value:function(t){e._init(),c.toggleMuted(t),u.toggleMuted(t)}},{key:"runAfterFirstSound",value:function(t){if(e._init(),e._firstSoundMade)return void t();e._onFirstSoundCallbacks.push(t)}}]),e}();s._initialized=!1,t.a=s}]);
//# sourceMappingURL=liftoff_api.js.map